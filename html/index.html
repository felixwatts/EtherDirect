<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="utf-8">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <link rel="stylesheet" href="https://www.w3schools.com/w3css/4/w3.css">
        <link href="https://fonts.googleapis.com/css?family=Sarabun" rel="stylesheet">
        <link href="https://fonts.googleapis.com/css?family=Roboto+Mono" rel="stylesheet">
        <title>EtherDirect</title>
    </head>
    <body>
        <div class="w3-row w3-yellow">
            <div class="w3-col" style="width:284px">
                <img src="../img/logo_black.png" />
            </div>
            <p style="font-family: 'Sarabun', sans-serif;">top up the easy way</p>
        </div>


        <div class="w3-row-padding">
            <div class="w3-third">
                <h2>🌛 Simple</h2>
                <p>No need to download an app, create an account with us or get verified</p>
            </div>
        
            <div class="w3-third">
                <h2>🛡️ Safe</h2>
                <p>We won't ask for your payment details and we don't keep custody of your funds</p> 
            </div>
        
            <div class="w3-third">
                <h2>⚡ Speedy</h2>
                <p>Once we receive your payment the Ether will usually reach your account within a few minutes</p>
            </div>
        </div>

        <div class="w3-panel w3-row-padding w3-yellow">
            <h2>How does it work?</h2>
        </div>

        <div class="w3-row-padding">
            <div class="w3-quarter">
                <h2>❶ Get an Ethereum account</h2>
                <p>If you don't have one yet don't worry, it's free.</p>
                <p>We recommend <a href="https://metamask.io/">Metamask</a> or <a href="https://mycrypto.com">MyCrypto</a></p>
            </div>
                
            <div class="w3-quarter">
                <h2>❷ Get your access code</h2>
                <p>Use the form below to get your access code instantly</p>
                <p>The access code tells us which Ethereum account to send Ether to when we receive your payment</p> 
            </div>
                
            <div class="w3-quarter">
                <h2>❸ Arrange payment</h2>
                <p>Arrange a bank transfer to our account</p>
                <p>The amount should be between £1 and £50</p>
                <p>Quote your access code in the Reference/Description/Message field of the transfer so we know where to send the Ether</p>
            </div>

            <div class="w3-quarter">
                <h2>❹ Receive your Ether</h2>
                <p>Once we receive your payment we will purchase the requisite value in Ether and transfer it directly to your Ethereum account</p>
                <p>The Ether will usually arrive in your account within a few minutes</p>
            </div>
        </div>

        <div class="w3-panel w3-row-padding w3-yellow">
            <h2>OK, I'm ready to buy Ether!</h2>
        </div>

        <div class="w3-panel w3-row-padding">
            <div class="w3-third">
                <div class="w3-card w3-blue w3-row-padding">
                    <h3>❶ Get access code</h3>
                    <p>Enter your Ethereum address to get an access code</p>
                    <form action="/get-access-code" style="margin-bottom: 0.5cm">
                        <div class="w3-row-padding">
                            <input 
                                type="text" 
                                name="ethereum-address" 
                                maxlength="42" 
                                minlength="42" 
                                placeholder="Your Ethereum address e.g. 0xDaEF995931D6F00F56226b29ba70353327b21E00"
                                style="width:100%" />
                        </div>
                        <div class="w3-row-padding">
                            <input type="submit" style="width:100%;margin-top: 0.5cm" />
                        </div>                                     
                    </form>
                    <h3>Your access code</h3>
                    <div class="w3-jumbo" id="access-code"></div>
                </div>
            </div>
            <div class="w3-twothird">
                <div class="w3-panel w3-leftbar w3-pale-yellow w3-border-yellow">
                    <p>⚠️ Take extra care when entering your Ethereum address. If you enter a valid but wrong address, your Ether will be lost and we will not be able to refund you</p>
                </div> 
                <div class="w3-panel w3-leftbar w3-pale-blue w3-border-blue">
                    <p>🛈 Your access code is permanent, you can reuse it as many times as you like</p>
                </div> 
            </div>
        </div>

        <div class="w3-panel w3-row-padding">
            <div class="w3-third">
                <div class="w3-card w3-blue w3-row-padding">
                    <h3>❷ Arrange payment</h3>
                    <p>Once you have an access code you can arrange payment via bank transfer</p>
                    <p>As soon as we receive your payment we will process your order and transfer your Ether to your Ethereum account</p>
                    <div class="w3-panel w3-large">
                        <table style="font-family: 'Roboto Mono', monospace;">
                            <tr>
                                <td>Name</td>
                                <td>EtherDirect</td>
                            </tr>
                            <tr>
                                <td>Sort code</td>
                                <td>XX-XX-XX <span onclick="copyStringToClipboard('XXXXXX')">📋</span></td>
                            </tr>
                            <tr>
                                <td>Account number</td>
                                <td>XXXXXXXX <span onclick="copyStringToClipboard('XXXXXXXX')">📋</span></td>
                            </tr>
                            <tr>
                                <td>Reference</td>
                                <td id="access-code-2"><span id="access-code-2">&lt;your access code&gt;</span><span id="access-code-2-copy">📋</span></td>
                            </tr>
                            <tr>
                                <td>Amount</td>
                                <td>£1 - £50</td>
                            </tr>
                        </table>
                    </div>
                </div>
            </div>
            <div class="w3-twothird">
                <div class="w3-panel w3-leftbar w3-pale-blue w3-border-blue">
                    <p>🛈 If you send more than £50 or less than £1 we will refund you</p>
                </div> 
                <div class="w3-panel w3-leftbar w3-pale-blue w3-border-blue">
                    <p>🛈 If you forget to include your access code or include an invalid access code we will refund you</p>
                </div> 
                <div class="w3-panel w3-leftbar w3-pale-blue w3-border-blue">
                    <p>🛈 Refunds are usually handled within 48 hours</p>
                </div> 
            </div>
        </div>

        <div class="w3-panel w3-row-padding w3-yellow">
            <h2>Frequently Asked Questions</h2>
        </div>

        <div class="w3-row-padding">
            <h2>How much Ether will I get for my money?</h2>

            <div class="w3-row-padding">
                <p>The price of Ether is changing all the time, so the exact amount is determined at the time you place your order</p>

                <p>We subtract a 15% commission from your order value and use the remainder to source Ether at a competitive price</p>

                <div class="w3-panel w3-leftbar w3-pale-yellow w3-border-yellow">
                    <p>⚠️ We charge a 15% commission on each order</p>
                </div> 

                <div class="w3-panel w3-leftbar w3-pale-blue w3-border-blue">
                    <p>🛈 Our Ether is priced at the Coinbase ETH/GBP best offer price</p>
                </div> 
                
                <p>Here are some illustrative figures based on today's Ether price</p>
    
                <div class="w3-panel w3-row-padding">
                    <div class="w3-third">
                        <div class="w3-card w3-blue w3-row-padding">
                            <h3>£5</h3>
                            <p>0.05324 ETH</p>
                        </div>
                    </div>
                        
                    <div class="w3-third">
                        <div class="w3-card w3-blue w3-row-padding">
                            <h3>£10</h3>
                            <p>0.12324 ETH</p>
                        </div>
                    </div>
                        
                    <div class="w3-third">
                        <div class="w3-card w3-blue w3-row-padding">
                            <h3>£20</h3>
                            <p>0.23324 ETH</p>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </body>
    <script>
var form = document.querySelector("form")

form.addEventListener("submit", function(e) {
  e.preventDefault()

  var x = new XMLHttpRequest()

  x.onreadystatechange = function() {
    if(x.readyState == 4) {

	const data = JSON.parse(x.response);
	if(data.error === '') {
	      document.getElementById("access-code").innerText = data.access_code;
          document.getElementById("access-code-2").innerText = data.access_code;
          document.getElementById("access-code-2-copy").onclick = () => copyStringToClipboard(data.access_code)
	} else {
	      document.getElementById("access-code").innerText = data.error;
	}
    }
  }

  x.open("POST", "/get-access-code")
  x.send(new FormData(form))
});

function copyStringToClipboard (str) {
   // Create new element
   var el = document.createElement('textarea');
   // Set value (string to be copied)
   el.value = str;
   // Set non-editable to avoid focus and move outside of view
   el.setAttribute('readonly', '');
   el.style = {position: 'absolute', left: '-9999px'};
   document.body.appendChild(el);
   // Select text inside element
   el.select();
   // Copy text to clipboard
   document.execCommand('copy');
   // Remove temporary element
   document.body.removeChild(el);
}
    </script>
</html>
